/*
Â© 2018-present Harald Rudell <harald.rudell@gmail.com> (http://www.haraldrudell.com)
All rights reserved.
*/
import React, { Component, createRef } from 'react'
import styled from 'styled-components'

const BlueBackground = styled.div`
border 1px solid black;
width: 1000px
height: 1000px
/*padding: 10px
border-radius: 14px
width: 504px
height: 355px */
fill: #fecc00
background-color: #006aa7
`
export default class Logo extends Component {
  constructor(props) {
    super(props)
    this.boxRef = createRef()
    this.pathRef = createRef()
  }

  componentDidMount() {
    const {pathRef, boxRef} = this
    const names = ['box', 'path']
    const domRefs = [boxRef, pathRef]
    const rects = domRefs.map((ref, no) => {
      const domElement = ref.current
      if (!domElement) throw new Error(`Logo: failed to get ${names[no]} dom element`)
      return domElement.getBoundingClientRect()
    })

    const box = rects[0]
    if (box.top !== 0 || box.left !== 0 || box.width !== 1000 || box.height !== 1000) throw new Error('Bounding box size not correct should be (0,0) and 1000px x 1000px')

    const {top, left, bottom, right, width, height} = rects[1]
    const aspect = width / height
    console.log(`svg width: ${width.toFixed(2)} height: ${height.toFixed(2)} aspect ratio: ${aspect.toFixed(2)}`)
    console.log(`internal spacing: left: ${left.toFixed(2)} top: ${top.toFixed(2)} bottom: ${bottom.toFixed(2)} right: ${right.toFixed(2)}`)
  }

  render() {
    const {pathRef, boxRef} = this
    return <BlueBackground ref={boxRef}>
      {/*
      Method:
      1. ensure containing div is at top/left: (0, 0) and width/height: 1000px x 1000px
      2. set viewBox="0 0 1000 1000"
      note: viewBox="min-x min-y width height" (0, 0) is upper left with x/width going to the right
      3. Run
      4. if svg height and width both < 100, divide viewBox two right values by 10 and try again
      5. if svg height and width both > 1000, multiple viewBox last two values by 10 and try again
      6. Not aspect ratio: eg. 15.52, ie. width is 15x height
      7. determine the size limiting dimension, either height or width
      8. Adjust the limiting width using for width: min-x and width so that left < 1 and 999 < right < 1000
      note: for 8, 222 i had left: 0.60 right: 999.68
      9. set the other width/height value using aspect ratio
      note: for width 222 and aspect ratio 15.52: height: 222 / 15.52, 15 rounded upwards
      10. adjust min-y for 0 < top < 1
      start with 0 0 1000 1000, then adjust until top,left < 1 and 999 < right bottom , 1000
      */}
      <svg viewBox="8 5 222 15">
        <g>
          <path ref={pathRef} d="M23.451 19.140L21.511 19.140L21.511 6.020L19.151 6.020L19.151 12.080L12.211 12.080L12.211 6.020L9.851 6.020L9.851 20L12.211 20L12.211 14.280L19.151 14.280L19.151 20L23.451 20L23.451 19.140M9.851 19.140L9.851 20L7.911 20L7.911 19.140L9.851 19.140ZM40.231 19.140L40.231 20L35.771 20L34.371 16.820L27.371 16.820L25.971 20L21.511 20L21.511 19.140L23.831 19.140L29.611 6.020L32.131 6.020L37.911 19.140L40.231 19.140M33.411 14.640L30.871 8.880L28.331 14.640L33.411 14.640ZM53.351 19.140L53.351 20L49.031 20L45.691 15.300L42.591 15.300L42.591 20L38.291 20L38.291 19.140L40.231 19.140L40.231 6.020L45.431 6.020Q48.631 6.020 50.011 7.100Q51.391 8.180 51.391 10.560Q51.391 14.020 48.371 14.920L51.411 19.140L53.351 19.140M45.531 13.160Q47.531 13.160 48.251 12.540Q48.971 11.920 48.971 10.550Q48.971 9.180 48.231 8.670Q47.491 8.160 45.591 8.160L42.591 8.160L42.591 13.160L45.531 13.160ZM69.631 19.140L69.631 20L65.171 20L63.771 16.820L56.771 16.820L55.371 20L50.911 20L50.911 19.140L53.231 19.140L59.011 6.020L61.531 6.020L67.311 19.140L69.631 19.140M62.811 14.640L60.271 8.880L57.731 14.640L62.811 14.640ZM80.311 19.140L80.311 20L67.691 20L67.691 19.140L69.631 19.140L69.631 6.020L71.991 6.020L71.991 17.760L78.371 17.760L78.371 19.140L80.311 19.140ZM94.651 19.140L94.651 20L79.011 20L79.011 19.140L80.951 19.140L80.951 6.020L85.751 6.020Q89.511 6.020 91.531 7.850Q93.551 9.680 93.551 13Q93.551 17.460 90.031 19.140L94.651 19.140M91.171 13Q91.171 8.200 85.671 8.200L83.311 8.200L83.311 17.780L85.931 17.780Q88.471 17.780 89.821 16.570Q91.171 15.360 91.171 13ZM100.131 19.140L100.131 20L94.651 20L94.651 19.140L100.131 19.140ZM115.191 19.140L115.191 20L110.871 20L107.531 15.300L104.431 15.300L104.431 20L100.131 20L100.131 19.140L102.071 19.140L102.071 6.020L107.271 6.020Q110.471 6.020 111.851 7.100Q113.231 8.180 113.231 10.560Q113.231 14.020 110.211 14.920L113.251 19.140L115.191 19.140M107.371 13.160Q109.371 13.160 110.091 12.540Q110.811 11.920 110.811 10.550Q110.811 9.180 110.071 8.670Q109.331 8.160 107.431 8.160L104.431 8.160L104.431 13.160L107.371 13.160ZM130.051 19.140L130.051 20L114.691 20L114.691 19.140L118.831 19.140Q116.451 17.480 116.451 13.880L116.451 6.020L118.811 6.020L118.811 13.780Q118.811 15.700 119.771 16.820Q120.731 17.940 122.371 17.940Q124.011 17.940 124.971 16.820Q125.931 15.700 125.931 13.780L125.931 6.020L128.291 6.020L128.291 13.880Q128.291 17.500 125.891 19.140L130.051 19.140ZM145.691 19.140L145.691 20L130.051 20L130.051 19.140L131.991 19.140L131.991 6.020L136.791 6.020Q140.551 6.020 142.571 7.850Q144.591 9.680 144.591 13Q144.591 17.460 141.071 19.140L145.691 19.140M142.211 13Q142.211 8.200 136.711 8.200L134.351 8.200L134.351 17.780L136.971 17.780Q139.511 17.780 140.861 16.570Q142.211 15.360 142.211 13ZM147.631 19.140L147.631 6.020L157.451 6.020L157.451 8.240L149.991 8.240L149.991 11.940L156.691 11.940L156.691 14.040L149.991 14.040L149.991 17.780L157.691 17.780L157.691 19.140L159.631 19.140L159.631 20L145.691 20L145.691 19.140L147.631 19.140ZM171.391 19.140L171.391 20L158.771 20L158.771 19.140L160.711 19.140L160.711 6.020L163.071 6.020L163.071 17.760L169.451 17.760L169.451 19.140L171.391 19.140ZM182.711 19.140L182.711 20L170.091 20L170.091 19.140L172.031 19.140L172.031 6.020L174.391 6.020L174.391 17.760L180.771 17.760L180.771 19.140L182.711 19.140ZM186.891 19.140L186.891 20L181.411 20L181.411 19.140L186.891 19.140ZM188.831 19.140L188.831 6.020L191.191 6.020L191.191 19.140L193.131 19.140L193.131 20L186.891 20L186.891 19.140L188.831 19.140ZM195.071 19.140L195.071 6.020L197.431 6.020L205.551 16.460L205.551 6.020L207.911 6.020L207.911 19.140L209.851 19.140L209.851 20L205.351 20L197.431 9.800L197.431 20L193.131 20L193.131 19.140L195.071 19.140ZM224.571 19.140L224.571 20L209.851 20L209.851 19.140L214.291 19.140Q212.711 18.200 211.801 16.580Q210.891 14.960 210.891 12.920Q210.891 9.840 213.021 7.760Q215.151 5.680 218.401 5.680Q221.651 5.680 223.831 8.080L222.331 9.720Q221.331 8.760 220.441 8.380Q219.551 8 218.351 8Q216.231 8 214.791 9.370Q213.351 10.740 213.351 12.870Q213.351 15 214.781 16.430Q216.211 17.860 218.171 17.860Q219.391 17.860 220.271 17.450Q221.151 17.040 222.111 16.140L223.631 17.700Q222.751 18.660 221.951 19.140L224.571 19.140ZM230.151 19.140L230.151 20L224.571 20L224.571 19.140L226.311 19.140Q225.871 18.740 225.871 18.090Q225.871 17.440 226.301 17.010Q226.731 16.580 227.351 16.580Q227.971 16.580 228.411 17.010Q228.851 17.440 228.851 18.080Q228.851 18.720 228.391 19.140L230.151 19.140Z"></path>
        </g>
      </svg>
    </BlueBackground>
  }
}
