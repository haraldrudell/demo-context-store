'use strict';

exports.__esModule = true;
exports.default = getTextareaStyle;

var _validation = require('./validation');

var _computeOptions = require('./computeOptions');

var _computeOptions2 = _interopRequireDefault(_computeOptions);

var _computeHeight = require('./computeHeight');

var _computeHeight2 = _interopRequireDefault(_computeHeight);

var _computeHeightLimits = require('./computeHeightLimits');

var _computeHeightLimits2 = _interopRequireDefault(_computeHeightLimits);

var _computeFinalStyle = require('./computeFinalStyle');

var _computeFinalStyle2 = _interopRequireDefault(_computeFinalStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Returns style of textarea with height and overflowY accomodating
 * height textarea's content
 *
 * @param {Element} textarea
 * @param {Object} [options]
 * @returns {Object}
 */
function getTextareaStyle(textarea, options) {
  (0, _validation.validateEnvironment)();
  (0, _validation.validateArguments)(textarea, options);

  options = (0, _computeOptions2.default)(textarea, options);

  var style = window.getComputedStyle(textarea, '');

  var height = (0, _computeHeight2.default)(textarea, options, style);
  var limits = (0, _computeHeightLimits2.default)(options, style);

  var finalStyle = (0, _computeFinalStyle2.default)(height, limits);

  return {
    height: finalStyle.height + 'px',
    overflowY: finalStyle.overflowY
  };
}


//////////////////
// WEBPACK FOOTER
// ./node_modules/textarea-autoresize/lib/modules/getTextareaStyle.js
// module id = ./node_modules/textarea-autoresize/lib/modules/getTextareaStyle.js
// module chunks = commons