// test-month.js
var linearcalendar = require('../../lib/linearcalendar')
var anytimer = require('../../lib/anytimer')

var log = console.log

var time1s = 1e3
var time1min = 60 * time1s
var time1h = 60 * time1min
var time1day = 24 * time1h

var d = new Date(Date.UTC(2013, 2, 1, 0, 0, 0))
log(d.toISOString(), d.getTime())
var lastTimerSet
opts = {
	every: 1,
	at: 0,
}
var period = {atUnit: time1day}
var isTimeout
var isInterval
var date = new Date(lastTimerSet = d.getTime())

			var ymPeriod = linearcalendar.encodeMonths(opts.every)
			var ymNow = linearcalendar.encodeDate(date)
			var ymPeriodStart = ymNow - ymNow % ymPeriod
			var period0 = linearcalendar.getTimeval(ymPeriodStart)
			var period1 = linearcalendar.getTimeval(ymPeriodStart + ymPeriod)
			var period2 = linearcalendar.getTimeval(ymPeriodStart + 2 * ymPeriod)
			var atLeft = period0 + opts.at * period.atUnit - lastTimerSet
			if (atLeft <= 0) {
				var nextAt = period1 + opts.at * period.atUnit
				if (nextAt >= period2) nextAt = period2 - time1day
				atLeft = nextAt - lastTimerSet
			}
			lastTimeval = atLeft
log(lastTimeval, lastTimeval / time1day, !isInterval)
var timer = new anytimer.AnyTimer(fire, lastTimeval, isTimeout = !isInterval)

function fire() {
	log('FIRE')
}
