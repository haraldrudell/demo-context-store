// test-topapprunner.js
// Â© 2012 Harald Rudell <harald.rudell@therudells.com> (http://haraldrudell.com) MIT License

var topapprunner = require('../lib/topapprunner')

// https://github.com/haraldrudell/mochawrapper
var assert = require('mochawrapper')

exports['Top AppRunner:'] = {
	'Exports': function () {
		assert.exportsTest(topapprunner, 1)
	},
	'GetOtherAppRunner': function () {
		// apprunner has already been included
		var actual = topapprunner.getOtherAppRunner()

		assert.ok(actual)
		assert.equal(typeof actual.initApp, 'function')
	},
	'GetOtherAppRunner Initial': function () {
		delete process.apprunner
		var actual = topapprunner.getOtherAppRunner()

		assert.equal(actual, undefined) // means no apprunner exists
	},
}
