#!/bin/bash -eu
# © 2018-present Harald Rudell <harald.rudell@gmail.com> (http://www.haraldrudell.com)
# All rights reserved.

GROUPNAME=foxyboycaptive
GROUPID=$(getent group $GROUPNAME | cut --delimiter=: --field=3)
if [ ! "$GROUPID" ]; then
  sudo groupadd $GROUPNAME
  GROUPID=$(getent group $GROUPNAME | cut --delimiter=: --field=3)
  if [ ! "$GROUPID" ]; then echo >&2 "groupadd failed"; exit 1; fi
fi
echo "group: $GROUPNAME id: $GROUPID"

GNOMEAPP=firefox
EXECUTABLE=$(which $GNOMEAPP)

echo launching…
# DISPLAY=:1 sudo sg $GROUPNAME "$GNOMEAPP"
# export WAYLAND_DISPLAY=wayland-0
sudo --group=$GROUPNAME "$GNOMEAPP"
